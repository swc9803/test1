<template>
  <svg class="snowman" width="1920" height="1080" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 1012 525">
    <defs/>
    <g id="snow">
      <path id="groundsnow" fill="#fff" d="M0 388h1012v137H0z"/>
      <g id="snowman">
        <g id="body" filter="url(#filter0_body)">
          <circle cx="825.49" cy="385.28" r="67.72" fill="#fff"/>
        </g>
        <g id="buttons" fill="#161616">
          <circle id="Ellipse 3" cx="824.26" cy="355.25" r="3.37"/>
          <circle id="Ellipse 4" cx="824.26" cy="376.7" r="3.37"/>
          <circle id="Ellipse 5" cx="824.26" cy="398.15" r="3.37"/>
        </g>
        <path id="lefthand" fill="url(#paint0_hand1)" d="M781.73 383.06a4 4 0 104.06-6.9l-4.06 6.9zm-62.76-36.92l62.76 36.92 4.06-6.9-62.76-36.92-4.06 6.9z"/>
        <path id="righthand" fill="url(#paint1_hand2)" d="M862.64 376.07a4 4 0 104.76 6.43l-4.76-6.43zm58.5-43.34l-58.5 43.34 4.76 6.43 58.51-43.34-4.76-6.43z"/>
        <g id="head" filter="url(#filter1_head)">
          <circle cx="825.8" cy="290.6" r="44.12" fill="#fff"/>
        </g>
        <g id="face">
          <g id="eyes">
            <circle id="lefteye" cx="809.25" cy="278.34" r="4.9" fill="#3E3E3E"/>
            <circle id="righteye" cx="843.57" cy="278.34" r="4.9" fill="#3E3E3E"/>
            <path id="lefteyebrow" stroke="#000" stroke-width="2" d="M804.73 265.23l8.91 2.22"/>
            <path id="righteyebrow" stroke="#000" stroke-width="2" d="M839.17 267.45l8.92-2.22"/>
          </g>
          <path id="mouse" stroke="#000" stroke-linecap="round" stroke-width="3" d="M810.48 313.88c11.22 8.62 17.6 9.36 28.8 0"/>
          <g id="nose" filter="url(#filter2_nose)">
            <path id="Polygon 3" fill="#FF842C" d="M807.48 296.14c-.02-1.53 16.84-5.53 16.84-5.53.78 4.21.84 6.54.14 10.6 0 0-16.96-3.54-16.98-5.07z"/>
            <path id="Line 4" stroke="#E06003" stroke-width=".2" d="M823.03 300.91c.33-3.9.31-6.08-.14-9.96"/>
            <path id="Line 5" stroke="#E06003" stroke-width=".2" d="M820.58 300.36c.34-3.44.32-5.37-.12-8.8"/>
            <path id="Line 6" stroke="#E06003" stroke-width=".2" d="M818.13 299.78c.34-2.96.33-4.62-.1-7.58"/>
            <path id="Line 7" stroke="#E06003" stroke-width=".2" d="M815.67 299.17a17 17 0 00-.08-6.29"/>
            <path id="Line 8" stroke="#E06003" stroke-width=".2" d="M813.22 298.51c.36-1.91.36-2.99-.07-4.9"/>
            <path id="Line 9" stroke="#E06003" stroke-width=".2" d="M810.76 297.78a4.99 4.99 0 00-.04-3.38"/>
            <path id="Line 10" stroke="#E06003" stroke-width=".2" d="M808.3 296.83c.21-.55.22-.86-.01-1.41"/>
          </g>
        </g>
        <g id="hat">
          <path id="Polygon 1" fill="#D30000" d="M831.01 210.22c15.78 2.06 17.15 47.21 17.15 47.21-17.54 4.62-27.57 4.96-45.96 0 0 0 13.04-49.27 28.81-47.2z"/>
          <g id="Rectangle 1" filter="url(#filter3_hat1)">
            <path fill="#F4F4F4" d="M804.04 250.91c15.87 4.72 25.22 5.28 43.82.3l.92 6.95c-17.99 3.95-27.27 4.09-46.88-.5l2.14-6.75z"/>
          </g>
          <g id="Polygon 2" filter="url(#filter4_hat2)">
            <path fill="#D30000" d="M858.94 243.5c-2.53 1.27-43.95-19.16-43.95-19.16l1.99-3.77 2.05-2.74 1.72-2.4 1.67-1.75s.38-.65 2.1-1.68c1.71-1.03 2.05-1.03 2.05-1.03.35 0 2.12-1.09 3.43-1.02 1.31.06 2.4.34 2.4.34l1.71.69 1.37.82s25.99 30.44 23.46 31.7z"/>
          </g>
          <g id="Vector" filter="url(#filter5_hat3)">
            <path fill="#F4F4F4" d="M861.62 243.86c.28 1.82-1.42 3.31-3.18 3.68-2.12-.37-3.18-1.84-3.53-3.68a4.2 4.2 0 013.53-3.67c1.76.37 2.82 1.47 3.17 3.67z"/>
          </g>
        </g>
        <g id="scarf" filter="url(#filter6_scarf)">
          <path fill="url(#paint2_linear)" fill-rule="evenodd" d="M789.64 317.56c22.67 7.97 50.86 7.97 73.85 1.23 0 0 10.67 3.26 11.95 10.42 1.27 7.15 7.35 13.79 7.35 13.79-26.32 3.28-49.8 4.4-74.15 3.3v28.87h-1.84v-7.97h-.62v7.97h-1.83v-7.97h-.62v7.97h-2.45v-7.97h-.61v7.97h-1.84v-7.97h-.61v7.97h-2.45v-7.97h-.62v7.97h-2.45v-29.89c-7.76-.64-15.7-1.5-23.9-2.6 0 0 7.05-6.68 7.25-13.36.2-6.68 13.59-11.76 13.59-11.76z" clip-rule="evenodd"/>
        </g>
      </g>
    </g>
    <defs>
      <filter id="filter0_body" width="143.44" height="143.44" x="753.77" y="317.56" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
        <feOffset dy="4"/>
        <feGaussianBlur stdDeviation="2"/>
        <feComposite in2="hardAlpha" operator="out"/>
        <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
        <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/>
        <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
      </filter>
      <filter id="filter1_head" width="96.25" height="96.25" x="777.67" y="246.47" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
        <feOffset dy="4"/>
        <feGaussianBlur stdDeviation="2"/>
        <feComposite in2="hardAlpha" operator="out"/>
        <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
        <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/>
        <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
      </filter>
      <filter id="filter2_nose" width="25.61" height="18.85" x="805.41" y="289.6" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
        <feOffset dx="2" dy="3"/>
        <feGaussianBlur stdDeviation="2"/>
        <feComposite in2="hardAlpha" operator="out"/>
        <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
        <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/>
        <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
      </filter>
      <filter id="filter3_hat1" width="54.88" height="18.2" x="797.89" y="250.91" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
        <feOffset dy="4"/>
        <feGaussianBlur stdDeviation="2"/>
        <feComposite in2="hardAlpha" operator="out"/>
        <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
        <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/>
        <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
        <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
        <feOffset dx="2" dy="2"/>
        <feGaussianBlur stdDeviation="2"/>
        <feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic"/>
        <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
        <feBlend in2="shape" result="effect2_innerShadow"/>
      </filter>
      <filter id="filter4_hat2" width="61.15" height="55.16" x="810.18" y="205.03" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
        <feOffset dx="2" dy="3"/>
        <feGaussianBlur stdDeviation="2"/>
        <feComposite in2="hardAlpha" operator="out"/>
        <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
        <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/>
        <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
        <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
        <feOffset dx="-4" dy="4"/>
        <feGaussianBlur stdDeviation="2"/>
        <feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic"/>
        <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
        <feBlend in2="shape" result="effect2_innerShadow"/>
      </filter>
      <filter id="filter5_hat3" width="8.74" height="9.35" x="854.91" y="240.19" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
        <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
        <feOffset dx="2" dy="2"/>
        <feGaussianBlur stdDeviation="2"/>
        <feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic"/>
        <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
        <feBlend in2="shape" result="effect1_innerShadow"/>
      </filter>
      <filter id="filter6_scarf" width="121.99" height="65.61" x="764.8" y="317.56" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
        <feOffset dy="4"/>
        <feGaussianBlur stdDeviation="2"/>
        <feComposite in2="hardAlpha" operator="out"/>
        <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
        <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/>
        <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
      </filter>
      <linearGradient id="paint0_hand1" x1="780.55" x2="787.73" y1="369.84" y2="376.86" gradientUnits="userSpaceOnUse">
        <stop stop-color="#75310A"/>
        <stop offset="1" stop-color="#fff"/>
      </linearGradient>
      <linearGradient id="paint1_hand2" x1="875.27" x2="866" y1="380.16" y2="384.02" gradientUnits="userSpaceOnUse">
        <stop stop-color="#75310A"/>
        <stop offset="1" stop-color="#fff"/>
      </linearGradient>
      <linearGradient id="paint2_linear" x1="826.11" x2="826.11" y1="327.5" y2="340.45" gradientUnits="userSpaceOnUse">
        <stop stop-color="#EBEF37"/>
        <stop offset="1" stop-color="#D1D51B"/>
      </linearGradient>
    </defs>
  </svg>
</template>

<script>
import { onMounted } from 'vue'
import { gsap, Power4 } from 'gsap'
import { ScrollTrigger } from 'gsap/ScrollTrigger'

export default {
  setup () {
    onMounted(() => {
      const Ground = gsap.timeline()
      ScrollTrigger.create({
        animation: Ground,
        trigger: '.scrollElement',
        start: '33% top',
        end: '33% 100%',
        scrub: 3
      })
      Ground.from('#groundsnow', { opacity: 0, y: 300, ease: 'none' }, 0)

      const Body = gsap.timeline()
      ScrollTrigger.create({
        animation: Body,
        trigger: '.scrollElement',
        start: '50% top',
        end: '65% 100%',
        scrub: 2
      })
      Body.from('#body', { x: -2000, duration: 5000, ease: Power4 }, 0)

      const Head = gsap.timeline()
      ScrollTrigger.create({
        animation: Head,
        trigger: '.scrollElement',
        start: '67% top',
        end: '72% 100%',
        scrub: 2
      })
      Head.from('#head', { opacity: 0, y: 200, duration: 5000, ease: Power4 }, 0)

      const Handbutton = gsap.timeline()
      ScrollTrigger.create({
        animation: Handbutton,
        trigger: '.scrollElement',
        start: '74% top',
        end: '76% 100%',
        scrub: 3
      })
      Handbutton.from('#lefthand, #righthand, #buttons', { opacity: 0, duration: 3 }, 0)

      const Face = gsap.timeline()
      ScrollTrigger.create({
        animation: Face,
        trigger: '.scrollElement',
        start: '70% top',
        end: '78% 100%',
        scrub: 2
      })
      Face.from('#face', { opacity: 0, duration: 3, delay: 5 }, 0)

      const Scarf = gsap.timeline()
      ScrollTrigger.create({
        animation: Scarf,
        trigger: '.scrollElement',
        start: '75% top',
        end: '80% 100%',
        scrub: 3
      })
      Scarf.from('#scarf', { opacity: 0, y: -100, duration: 3, delay: 5 }, 0)

      const Hat = gsap.timeline()
      ScrollTrigger.create({
        animation: Hat,
        trigger: '.scrollElement',
        start: '80% top',
        end: '82% 100%',
        scrub: 3
      })
      Hat.from('#hat', { opacity: 0, y: -100, duration: 3, delay: 5 }, 0)
    })
  }
}
</script>

<style scoped>
.snowman {
  display: block;
  width: 100%;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
}
</style>
