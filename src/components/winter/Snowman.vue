<template>
  <svg class="snowman" width="1920" height="1080" viewBox="0 0 1920 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g id="snowman">
      <g id="head" filter="url(#filter1_d)">
        <circle cx="1459" cy="678" r="72" fill="white"/>
      </g>
      <rect id="groundsnow" x="-337" y="887" width="2600" height="550" fill="white"/>
      <g id="body" filter="url(#filter0_d)">
        <circle cx="1458.5" cy="832.5" r="110.5" fill="white"/>
      </g>
      <g id="buttons">
        <circle cx="1456.5" cy="783.5" r="5.5" fill="#161616"/>
        <circle cx="1456.5" cy="818.5" r="5.5" fill="#161616"/>
        <circle cx="1456.5" cy="853.5" r="5.5" fill="#161616"/>
      </g>
      <path id="lefthand" d="M1388.38 826.696C1390.29 827.816 1392.74 827.181 1393.86 825.277C1394.98 823.373 1394.34 820.921 1392.44 819.801L1388.38 826.696ZM1285.97 766.448L1388.38 826.696L1392.44 819.801L1290.03 759.552L1285.97 766.448Z" fill="url(#paint0_linear)"/>
      <path id="righthand" d="M1520.62 819.509C1518.84 820.824 1518.47 823.329 1519.79 825.104C1521.1 826.879 1523.61 827.252 1525.38 825.937L1520.62 819.509ZM1616.1 748.786L1520.62 819.509L1525.38 825.937L1620.86 755.214L1616.1 748.786Z" fill="url(#paint1_linear)"/>
      <g id="face">
        <g id="eyes">
          <circle id="lefteye" cx="1432" cy="658" r="8" fill="#3E3E3E"/>
          <circle id="righteye" cx="1488" cy="658" r="8" fill="#3E3E3E"/>
          <line id="lefteyebrow" x1="1424.46" y1="637.215" x2="1439.02" y2="640.844" stroke="black" stroke-width="2"/>
          <line id="righteyebrow" x1="1480.98" y1="640.844" x2="1495.54" y2="637.215" stroke="black" stroke-width="2"/>
        </g>
        <path id="mouse" d="M1434 716C1452.32 730.053 1462.71 731.268 1481 716" stroke="black" stroke-width="3" stroke-linecap="round"/>
        <g id="nose" filter="url(#filter2_d)">
          <path d="M1429.12 687.046C1429.08 684.546 1456.58 678.012 1456.58 678.012C1457.86 684.895 1457.97 688.688 1456.82 695.331C1456.82 695.331 1429.15 689.546 1429.12 687.046Z" fill="#FF842C"/>
          <path d="M1454.49 694.833C1455.03 688.475 1455 684.915 1454.26 678.574" stroke="#E06003" stroke-width="0.2"/>
          <path d="M1450.48 693.927C1451.04 688.315 1451.01 685.173 1450.29 679.578" stroke="#E06003" stroke-width="0.2"/>
          <path d="M1446.48 692.991C1447.05 688.152 1447.03 685.444 1446.31 680.622" stroke="#E06003" stroke-width="0.2"/>
          <path d="M1442.48 691.995C1443.06 687.976 1443.04 685.728 1442.34 681.726" stroke="#E06003" stroke-width="0.2"/>
          <path d="M1438.48 690.919C1439.06 687.787 1439.06 686.035 1438.37 682.92" stroke="#E06003" stroke-width="0.2"/>
          <path d="M1434.47 689.723C1435.07 687.563 1435.08 686.357 1434.4 684.214" stroke="#E06003" stroke-width="0.2"/>
          <path d="M1430.46 688.178C1430.8 687.271 1430.8 686.765 1430.43 685.868" stroke="#E06003" stroke-width="0.2"/>
        </g>
      </g>
      <g id="hat">
        <path d="M1467.51 546.847C1493.26 550.208 1495.5 623.885 1495.5 623.885C1466.87 631.421 1450.5 631.969 1420.5 623.885C1420.5 623.885 1441.77 543.486 1467.51 546.847Z" fill="#D30000"/>
        <g filter="url(#filter3_di)">
          <path d="M1423.5 613.244C1449.4 620.937 1464.66 621.849 1495 613.744L1496.5 625.077C1467.15 631.514 1452 631.744 1420 624.244L1423.5 613.244Z" fill="#F4F4F4"/>
        </g>
        <g filter="url(#filter4_di)">
          <path d="M1513.08 601.154C1508.95 603.22 1441.36 569.888 1441.36 569.888L1444.61 563.736L1447.96 559.262L1450.76 555.347L1453.5 552.5C1453.5 552.5 1454.12 551.432 1456.91 549.754C1459.71 548.077 1460.27 548.077 1460.27 548.077C1460.83 548.077 1463.72 546.297 1465.86 546.399C1468 546.5 1469.78 546.958 1469.78 546.958L1472.57 548.077L1474.81 549.419C1474.81 549.419 1517.21 599.088 1513.08 601.154Z" fill="#D30000"/>
        </g>
        <g filter="url(#filter5_i)">
          <path d="M1517.45 601.744C1517.92 604.703 1515.14 607.144 1512.26 607.744C1508.8 607.144 1507.08 604.744 1506.5 601.744C1507.08 598.144 1509.38 596.344 1512.26 595.744C1515.14 596.344 1516.87 598.144 1517.45 601.744Z" fill="#F4F4F4"/>
        </g>
      </g>
      <g id="scarf" filter="url(#filter6_d)">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M1400 722C1437 735 1483 735 1520.5 724C1520.5 724 1537.92 729.323 1540 741C1542.08 752.677 1552 763.5 1552 763.5C1509.05 768.862 1470.74 770.702 1431 768.903L1431 816H1428V803H1427V816H1424V803H1423V816H1419V803H1418V816H1415V803H1414V816H1410V803H1409V816H1405L1405 767.228C1392.33 766.176 1379.39 764.768 1366 763C1366 763 1377.51 752.086 1377.83 741.187C1378.16 730.288 1400 722 1400 722Z" fill="url(#paint2_linear)"/>
      </g>
    </g>
    <defs>
    <filter id="filter0_d" x="1344" y="722" width="229" height="229" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <filter id="filter1_d" x="1383" y="606" width="152" height="152" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <filter id="filter2_d" x="1427.12" y="677.012" width="36.4981" height="25.3189" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dx="2" dy="3"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <filter id="filter3_di" x="1416" y="613.244" width="84.5" height="24.645" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dx="2" dy="2"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
    <feBlend mode="normal" in2="shape" result="effect2_innerShadow"/>
    </filter>
    <filter id="filter4_di" x="1436.04" y="539" width="93.4591" height="84.9474" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dx="2" dy="3"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dx="-4" dy="4"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
    <feBlend mode="normal" in2="shape" result="effect2_innerShadow"/>
    </filter>
    <filter id="filter5_i" x="1506.5" y="595.744" width="13" height="14" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dx="2" dy="2"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
    <feBlend mode="normal" in2="shape" result="effect1_innerShadow"/>
    </filter>
    <filter id="filter6_d" x="1362" y="722" width="194" height="102" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
    </filter>
    <linearGradient id="paint0_linear" x1="1383" y1="811" x2="1392.52" y2="823.419" gradientUnits="userSpaceOnUse">
    <stop stop-color="#75310A"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    <linearGradient id="paint1_linear" x1="1537.17" y1="820.689" x2="1522.02" y2="824.603" gradientUnits="userSpaceOnUse">
    <stop stop-color="#75310A"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    <linearGradient id="paint2_linear" x1="1459.51" y1="738.222" x2="1459.51" y2="759.347" gradientUnits="userSpaceOnUse">
    <stop stop-color="#EBEF37"/>
    <stop offset="1" stop-color="#D1D51B"/>
    </linearGradient>
    </defs>
  </svg>
</template>

<script>
import { onMounted } from 'vue'
import { gsap, Power4 } from 'gsap'
import { ScrollTrigger } from 'gsap/ScrollTrigger'

export default {
  setup () {
    onMounted(() => {
      const Ground = gsap.timeline()
      ScrollTrigger.create({
        animation: Ground,
        trigger: '.scrollElement',
        start: '25% top',
        end: '25% 100%',
        scrub: 3
      })
      Ground.from('#groundsnow', { opacity: 0, y: 300, ease: 'none' }, 0)

      const Body = gsap.timeline()
      ScrollTrigger.create({
        animation: Body,
        trigger: '.scrollElement',
        start: '29% top',
        end: '48% 100%',
        scrub: 3
      })
      Body.from('#body', { x: -2000, duration: 5000, ease: Power4 }, 0)

      const Head = gsap.timeline()
      ScrollTrigger.create({
        animation: Head,
        trigger: '.scrollElement',
        start: '42% top',
        end: '47% 100%',
        scrub: 2
      })
      Head.from('#head', { opacity: 0, y: 200, duration: 5000, ease: Power4 }, 0)

      const Handbutton = gsap.timeline()
      ScrollTrigger.create({
        animation: Handbutton,
        trigger: '.scrollElement',
        start: '45% top',
        end: '47% 100%',
        scrub: 3
      })
      Handbutton.from('#lefthand, #righthand, #buttons', { opacity: 0, duration: 3 }, 0)

      const Face = gsap.timeline()
      ScrollTrigger.create({
        animation: Face,
        trigger: '.scrollElement',
        start: '48% top',
        end: '57% 100%',
        scrub: 3
      })
      Face.from('#face', { opacity: 0, duration: 3, delay: 5 }, 0)

      const Scarf = gsap.timeline()
      ScrollTrigger.create({
        animation: Scarf,
        trigger: '.scrollElement',
        start: '50% top',
        end: '57% 100%',
        scrub: 3
      })
      Scarf.from('#scarf', { opacity: 0, y: -100, duration: 3, delay: 5 }, 0)

      const Hat = gsap.timeline()
      ScrollTrigger.create({
        animation: Hat,
        trigger: '.scrollElement',
        start: '54% top',
        end: '57% 100%',
        scrub: 3
      })
      Hat.from('#hat', { opacity: 0, y: -100, duration: 3, delay: 5 }, 0)
    })
  }
}
</script>

<style scoped>
.snowman {
  display: block;
  width: 100%;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
}
</style>
